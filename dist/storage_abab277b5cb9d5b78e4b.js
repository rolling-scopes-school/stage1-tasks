(()=>{"use strict";var e={1026:(e,t,o)=>{o.d(t,{Z:()=>r});var n=o(5195);class r{constructor(){document.querySelector("input.city").addEventListener("keydown",(e=>{13===e.keyCode&&r.getWeather(document.querySelector("input.city").value)}))}static async getWeather(e){r.city=document.querySelector("input.city"),r.weatherIcon=document.querySelector(".weather-icon"),r.temperature=document.querySelector(".temperature"),r.weatherDescription=document.querySelector(".weather-description"),r.wind=document.querySelector(".wind"),r.humidity=document.querySelector(".humidity"),r.weatherError=document.querySelector(".weather-error");let t=(0,n.ZP)();try{const o=`https://api.openweathermap.org/data/2.5/weather?q=${e}&lang=${t}&appid=4dd926d8428c8f4eba2fa99faf125bf1&units=metric`,n=await fetch(o);r.data=await n.json(),r.weatherIcon.classList[2]&&r.weatherIcon.classList.remove(r.weatherIcon.classList[2]),r.weatherError.textContent="",r.weatherIcon.classList.add(`owf-${r.data.weather[0].id}`),r.temperature.textContent=`${Math.trunc(r.data.main.temp)}°C`,r.weatherDescription.textContent=r.data.weather[0].description;let i="en"==t?"Wind speed: ":"Скорость ветра: ",a="en"==t?" m/s":" м/с";r.wind.textContent=i+Math.round(r.data.wind.speed)+a;let c="en"==t?"Humidity: ":"Влажность: ";r.humidity.textContent=c+r.data.main.humidity+"%"}catch(o){o.message.includes("undefined")?r.weatherError.textContent="en"==t?`Error! city not found for '${e}'!`:`Ошибка! город '${e}' - не найден!`:r.weatherError.textContent="en"==t?"Connection Error'!":"Ошибка подключения!",r.weatherIcon.classList.remove(r.weatherIcon.classList[2]),r.temperature.textContent="",r.weatherDescription.textContent="",r.wind.textContent="",r.humidity.textContent=""}}}},5195:(e,t,o)=>{o.d(t,{ZP:()=>a});var n=o(1026),r=o(9568);let i=!1;function a(){return window.localStorage.getItem("langInApp")||navigator.language.substring(0,2)}window.addEventListener("load",(function(){let e=document.querySelector("input.name");window.localStorage.getItem("userName")&&(e.value=window.localStorage.getItem("userName")),e.placeholder=r.Z[a()].placeholder;let t=window.localStorage.getItem("city");document.querySelector("input.city").value=t||r.Z[a()].defCity,n.Z.getWeather(document.querySelector("input.city").value);let o=window.localStorage.getItem("vol");o=o||1;let c=document.querySelector("audio");c.volume=o;let l=Math.trunc(100*o);document.querySelector(".vol-line").style.setProperty("width",l+"%"),0==c.volume&&document.querySelector(".vol-mute").classList.add("mute-icon"),i=!0})),window.addEventListener("beforeunload",(function(){i&&(window.localStorage.setItem("userName",document.querySelector("input.name").value),document.querySelector("input.city").value!=r.Z.ru.defCity&&document.querySelector("input.city").value!=r.Z.en.defCity&&window.localStorage.setItem("city",document.querySelector("input.city").value),window.localStorage.setItem("vol",document.querySelector("audio").volume))}))},9568:(e,t,o)=>{o.d(t,{Z:()=>n});const n={en:{placeholder:"[Enter name]",night:"Good night",morning:"Good morning",afternoon:"Good afternoon",evening:"Good evening",defCity:"Minsk",settingsTitle:"Settings",visibleBlocks:"Visible blocks",langTitle:"Select app language:",lang:{en:"English",ru:"Русский"},imgSourceTitle:"Select images source:",imgSource:["GitHub","Unsplash API","Flickr API"],tagPlaceholder:"Write a tag",showTime:"Time:",showDate:"Date:",showGreetings:"Greetings:",showQuote:"Quote of the Day:",showWeather:"Weather:",showPlayer:"Player:",showTodo:"Todo list:",showLink:"Link list:",showContact:"Contact list:",isShow:"show",isHide:"hide"},ru:{placeholder:"[Введите имя]",night:"Доброй ночи,",morning:"Доброе утро,",afternoon:"Добрый день,",evening:"Добрый вечер,",defCity:"Минск",settingsTitle:"Настройки",visibleBlocks:"Отображаемые блоки",langTitle:"Выберите язык приложения:",lang:{en:"English",ru:"Русский"},imgSourceTitle:"Выберите источник изображений:",imgSource:["GitHub","Unsplash API","Flickr API"],tagPlaceholder:"Введите тэг",showTime:"Время:",showDate:"Дата:",showGreetings:"Приветствие:",showQuote:"Цитата дня:",showWeather:"Погода:",showPlayer:"Плеер:",showTodo:"Список дел:",showLink:"Список ссылок:",showContact:"Список контактов:",isShow:"видно",isHide:"скрыто"}}}},t={};function o(n){var r=t[n];if(void 0!==r)return r.exports;var i=t[n]={exports:{}};return e[n](i,i.exports,o),i.exports}o.d=(e,t)=>{for(var n in t)o.o(t,n)&&!o.o(e,n)&&Object.defineProperty(e,n,{enumerable:!0,get:t[n]})},o.o=(e,t)=>Object.prototype.hasOwnProperty.call(e,t),o(5195)})();